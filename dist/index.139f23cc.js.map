{"mappings":"AAAA;;;CAGC,GACD,QAAQ,SAAU,OAAO;IACrB,2CAA2C;IAC3C,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI;IACxB,2CAA2C;IAC3C,IAAI,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI;IAC5B,WAAW;IACX,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ,IAAI;IACpC,WAAW;IACX,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ,IAAI;IACpC,sBAAsB;IACtB,IAAI,CAAC,OAAO,GAAG,QAAQ,OAAO,IAAI,WAAW,IAAI,CAAC,QAAQ;IAC1D,uBAAuB;IACvB,IAAI,CAAC,MAAM,GAAG,QAAQ,MAAM,IAAI;IAChC,4BAA4B;IAC5B,IAAI,CAAC,UAAU,GAAG,QAAQ,UAAU,IAAI;IACxC,wBAAwB;IACxB,IAAI,CAAC,WAAW,GAAG,QAAQ,WAAW,IAAI;IAC1C,kBAAkB;IAClB,IAAI,CAAC,aAAa,GAAG,QAAQ,aAAa,IAAI;IAC9C,gDAAgD;IAChD,IAAI,CAAC,gBAAgB,GAAG,QAAQ,gBAAgB,IAAI;IACpD,uDAAuD;IACvD,IAAI,CAAC,QAAQ,GAAG;IAChB,qBAAqB;IACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO;IACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,QAAQ;IAEpD,IAAI,CAAC,IAAI,GAAG;QACZ,MAAM;YACF,QAAQ;gBACJ,UAAU;oBACN,UAAU;oBACV,QAAQ;oBACR,YAAY;oBACZ,SAAS;oBACT,QAAQ;oBACR,WAAW;oBACX,YAAY;oBACZ,UAAU;gBACd;YACJ;YACA,OAAO;gBACL,QAAQ;YACV;YACA,OAAO;gBACL,UAAU;gBACV,WAAW;YACb;QACJ;QACA,UAAU;YACN;YACA;YACA;YACA;YACA;YACA;SACH;QACD,SAAS;QACT,WAAW;YAAC;YAAiB;YAAS;YAAU;SAAK;IACzD;IACI,IAAI,CAAC,OAAO,GAAG;IAEf,qDAAqD;IACrD,IAAI,CAAC,IAAI,GAAG;QACA,IAAI,QAAQ,IAAI,CAAC,WAAW;QAE5B,WAAW;YACP,EAAE,UAAU,OAAO,CAAC,IAAI,CAAC,WAAW;QACxC,GAAG;QAGX,EAAE,MAAM,IAAI,CAAC,KAAK,EAAE,IAAI,CACtB,wCAAwC,IAAI,CAAC,QAAQ,GACrD;IAEN;IAEA,IAAI,CAAC,QAAQ,GAAG,QAAQ,IAAI,CAAC,SAAS,GAAG;IACzC,IAAI,CAAC,QAAQ,GAAG;IAChB,IAAI,CAAC,KAAK,GAAG;IACb,IAAI,CAAC,QAAQ,GAAG;IAChB,IAAI,CAAC,cAAc,GAAG,EAAE;IACxB,IAAI,CAAC,sBAAsB,GAAG;IAE9B,6DAA6D;IAC7D,IAAI,CAAC,WAAW,GAAG;QACf,IAAI,QAAQ;QACZ,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,kBAAkB,GAAG;QAE1B,IAAK,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE;YAC3B,IAAI,MAAM,GACN,SAAS,AAAC,CAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,MAAM,GAAG,CAAA,IAAK,IAAI,CAAC,QAAQ;YAEpE,WAAW;gBACP,IAAI,OAAO,OAAO,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;oBAC5C,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK;oBAC9D,IAAI,CAAC,kBAAkB,GAAG;oBAC1B;gBACJ,OACK,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;gBAEnD,IAAI,CAAC,KAAK;YACd,GAAG;QACP;QACA,SAAS,AAAC,CAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,GAAG,CAAA,IAAK,IAAI,CAAC,QAAQ;QACrF,OAAO;IACX;IAEA,uCAAuC;IACvC,IAAI,CAAC,sBAAsB,GAAG,SAAU,QAAQ;QAC5C,KAAK,KAAK,SACN,IAAI,CAAC,uBAAuB,CAAC;IAErC;IAEA,mCAAmC;IACnC,IAAI,CAAC,YAAY,GAAG,SAAU,OAAO;QACjC,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,gBAAgB,GAAG;QAExB,IAAK,OAAO,QACR,WAAW;YACP,IAAI,OAAO,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC1C,IAAI,CAAC,uBAAuB,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,OAAO;gBACvD,IAAI,CAAC,gBAAgB,GAAG;gBACxB;YACJ,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YAE1C,IAAI,CAAC,OAAO;QAChB,GAAG,IAAI,CAAC,QAAQ,GAAG;QAEvB,WAAW;YACP,IAAI,CAAC,IAAI,CAAC,gBAAgB,EACtB,IAAI,CAAC,aAAa;QAE1B,GAAG,IAAI,CAAC,QAAQ,GAAG,QAAQ,MAAM;IACrC;IAEA,+BAA+B;IAC/B,IAAI,CAAC,uBAAuB,GAAG,SAAU,OAAO;QAC5C,KAAK,KAAK,QACN,IAAI,CAAC,WAAW,CAAC;QAErB,IAAI,CAAC,aAAa;IACtB;IAEA,iCAAiC;IACjC,IAAI,CAAC,UAAU,GAAG;QACd,EAAE,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK;QAC7D,MAAO,EAAE,SAAS,MAAM,KAAK,IAAI,CAAC,MAAM,CACxC;YACI,IAAI,CAAC,cAAc;YACnB,EAAE,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK;QACjE;IACJ;IAEA,0BAA0B;IAC1B,IAAI,CAAC,cAAc,GAAG;QAClB,IAAI,SAAS,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM;QACtD,IAAI,CAAC,QAAQ;IACjB;IAEA,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA,SAAS,KAAK;QAC9B,IAAI,MAAM,GAAG,CAAC,MAAM,IAAI,GACpB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG;aACvB,IAAI,MAAM,KAAK,IAAI,KAAK,MAAM,KAAK,IAAI,MACnC,MAAM,KAAK,IAAI,KACtB,IAAI,CAAC,WAAW;aACb,IAAI,MAAM,KAAK,IAAI,IACtB,IAAI,CAAC,aAAa;aACf,IAAI,MAAM,KAAK,IAAI,IACtB,IAAI,CAAC,UAAU;aACZ,IAAI,MAAM,KAAK,IAAI,IACtB,IAAI,CAAC,YAAY;IAEzB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,yBAAyB;IACzB,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA,SAAU,GAAG;QAC7B,IAAI,CAAC,KAAK,IAAI;QACd,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,mCAAmC;IACnC,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA;QAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG;QACjC,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,0BAA0B;IAC1B,IAAI,CAAC,aAAa,GAAG,AAAC,CAAA;QAClB,IAAI,IAAI,CAAC,KAAK,IAAI,IAEd,IAAI,CAAC,aAAa;aAGtB;YACI,IAAI,IAAI,CAAC,WAAW,EAEhB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK;YAE9B,IAAI,CAAC,sBAAsB,GAAG;YAC9B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK;YACtC,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAElD,IAAI,CAAC,cAAc,CAAC,GAAG;YAE3B,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAC5B,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,EAEvB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBAItB,IAAI,CAAC,eAAe;QAE5B;IACJ,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,qCAAqC;IACrC,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA;QACjB,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,GAE3D,IAAI,CAAC,sBAAsB;QAE/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,sBAAsB,CAAC;QAC7D,IAAI,CAAC,UAAU;IACjB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,iCAAiC;IACjC,IAAI,CAAC,YAAY,GAAG,AAAC,CAAA;QACnB,IAAI,IAAI,CAAC,sBAAsB,GAAG,GAE9B,IAAI,CAAC,sBAAsB;QAE/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,sBAAsB,CAAC;QAC7D,IAAI,CAAC,UAAU;IACjB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;KAEC,GACD,IAAI,CAAC,aAAa,GAAG,AAAC,CAAA;QAClB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;KAEC,GACD,IAAI,CAAC,eAAe,GAAG,AAAC,CAAA;QACpB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,KAAK,GAAG,wBAAwB;QAC5F,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,wBAAwB;IACxB,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA,SAAS,SAAS;QACjC,EAAE,IAAI,CAAC;YACC,KAAK,aAAa,OAAO,QAAQ,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,aAAa,GAAG,MAAM;YAC9E,UAAU;QACd;IACR,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,qBAAqB;IACrB,IAAI,CAAC,SAAS,GAAG,AAAC,CAAA,SAAS,OAAO;QAC9B,IAAI,OAAO;QACX,IAAI,QAAQ,UAAU,CAAC,MACnB,OAAO;aACJ,IAAI,QAAQ,UAAU,CAAC,MAC1B,OAAO,IAAI,CAAC,OAAO,GAAG,MAAM,QAAQ,KAAK,CAAC;aAE1C,OAAO,IAAI,CAAC,IAAI,GAAG,MAAM;QAE7B,IAAI,KAAK,QAAQ,CAAC,MACd,OAAO,KAAK,KAAK,CAAC,GAAG;QAEzB,IAAI,YAAY,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC;QACtC,IAAI,eAAe,EAAE;QACrB,IAAK,KAAK,UAAW;YACjB,IAAI,SAAS,CAAC,EAAE,IAAI,MAAM;gBACtB,IAAI,aAAa,MAAM,GAAG,GACtB,aAAa,MAAM,CAAC,IAAI;qBAExB;YAER,OAAO,IAAI,SAAS,CAAC,EAAE,IAAI,KACvB;iBAEA,aAAa,IAAI,CAAC,SAAS,CAAC,EAAE;QAEtC;QACA,OAAO,MAAM,aAAa,IAAI,CAAC;QAC/B,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;QACvB,KAAK,UAAU,aACX,OAAO,IAAI,CAAC,OAAO;QAEvB,OAAO;YAAC;YAAM;SAAK;IACvB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;;;;KAMC,GACD,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA,SAAS,IAAI;QAC5B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ;QAEb,IAAI,MAAM;QACV,IAAI,OAAO;QAEX,IAAI,QAAQ,IAAI,CAAC,IAAI;QAErB,KAAK,OAAO,KAAK,KAAK,CAAC,GACnB,IAAI,CAAC,IAAI,UAAU,CAAC;YAChB,IAAI,IAAI,UAAU,CAAC,MACf,QAAQ;iBAER,QAAQ,QAAQ,MAAM;eAEvB;YACH,IAAI,OAAO,MACP,MAAM;iBACH,IAAI,OAAO,MACd,OAAO;QAEf;QAEJ,IAAI,UAAU,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;QACtC,IAAI,OAAO,YAAY,aAAa;YAChC,IAAI,CAAC,QAAQ,IAAI,wBAAwB,QAAQ,iCAAiC;YAClF,IAAI,CAAC,QAAQ;QACjB,OAAO;YACH,IAAK,QAAQ,QACT,IAAI,CAAC,KAAK,UAAU,CAAC,QAAQ,KAC7B;gBACI,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK;oBACzB,IAAI,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WACzB,IAAI,CAAC,QAAQ,IAAI,2BAA2B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAO,uBAAuB,OAAO;yBAErG,IAAI,CAAC,QAAQ,IAAI,OAAO;uBAG5B,IAAI,CAAC,QAAQ,IAAI,2BAA2B,OAAO;gBAEvD,IAAI,CAAC,QAAQ;YACjB;QAER;QACA,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA,SAAS,IAAI;QAC7B,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;QACrC,IAAI,QAAQ,MAAM,OAAO,SAAS,aAC9B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,KAAK,GAAG,gCAAgC;aAEpG,IAAI,KAAK,UAAU,CAAC,WAAW;YAC3B,IAAI,OAAO,KAAK,KAAK,CAAC,GAAK,KAAK,CAAC;YACjC,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtB;YACJ,OACI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO;QAEtE,OACI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO;QAItE,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;;KAIC,GACD,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA,SAAS,IAAI;QAC5B,IAAI,UAAU;QACd,IAAI,KAAK,MAAM,GAAG,KAAK,IAAI,CAAC,EAAE,IAAI,KAC9B,UAAU;aAEV,UAAU,IAAI,CAAC,EAAE;QAErB,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAClC,IAAI,OAAO,SAAS,aAAa;YAC7B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,KAAK,GAAG,gCAAgC;YACpG,IAAI,CAAC,KAAK,GAAG;YACb,IAAI,CAAC,QAAQ,IAAI;QACrB,OAAO,IAAI,OAAO,SAAS;YACvB,IAAI,KAAK,UAAU,CAAC,WAAW;gBAC3B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;gBAC9C,IAAI,CAAC,KAAK,GAAG;gBACb,IAAI,CAAC,QAAQ;gBACb,OAAO,IAAI,CAAC,KAAK,KAAK,CAAC,IAAM,UAAU,KAAK;YAChD,OAAO;gBACH,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,KAAK,GAAG,sBAAsB;gBAC1F,IAAI,CAAC,KAAK,GAAG;gBACb,IAAI,CAAC,QAAQ,IAAI;YACrB;eACG,IAAI,OAAO,SAAS,UAAU;YACjC,IAAI,CAAC,IAAI,GAAG;YACZ,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;YAC9C,IAAI,CAAC,KAAK,GAAG;YACb,IAAI,CAAC,QAAQ;YAEb,IAAI,WAAW,IAAI,CAAC,IAAI;YACxB,IAAI,YAAY,IAAI,CAAC,OAAO,EACxB,WAAW;YAGf,IAAI,CAAC,QAAQ,GAAG,QAAQ,IAAI,CAAC,SAAS,GAAG,UAAU,WAAW;QAClE;QACA,IAAI,CAAC,UAAU;QACf;IACJ,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA,SAAS,IAAI;QAC/B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,IAAI,GAAG;QACnE,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,UAAU;IACjB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,cAAc,GAAG,AAAC,CAAA;QACnB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ;QAEb,KAAK,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE;YAC3B,IAAI,CAAC,QAAQ,IAAI,OAAO;YACxB,IAAI,CAAC,QAAQ;QACjB;QACA,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,aAAa,GAAG,AAAC,CAAA;QAClB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG;QACzE,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,cAAc,GAAG,AAAC,CAAA;QACnB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO,KAAK,MAAM,MAAM;QAC/E,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,YAAY,GAAG,AAAC,CAAA;QACjB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAC3B,kEACA,4FACA,qCACA,+BACA,iBACA,kCACA,2BACA;QAEhB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,IAAI;QAEjB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,YAAY,GAAG,AAAC,CAAA;QACjB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ;QAEb,EAAE,UAAU,MAAM,CAAC,WAAW,IAAI,CAAC,WAAW;QAE9C,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,YAAY,GAAG,AAAC,CAAA;QACjB,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO;QAE9D,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA;QACf,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA;QAChB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACA,IAAI,CAAC,aAAa,GAAG,AAAC,CAAA;QAClB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG;QAC9C,IAAI,CAAC,QAAQ,IAAI;QAEjB,EAAE,UAAU,MAAM,CAAC,WAAW,IAAI,CAAC,WAAW;QAE9C,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;MAGC,GACF,IAAI,CAAC,gBAAgB,GAAG,AAAC,CAAA;QACrB,EAAE,UAAU,MAAM,CAAC,WAAW,IAAI,CAAC,WAAW;QAC9C,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,cAAc,GAAG,AAAC,CAAA;QACnB,EAAE,UAAU,MAAM,CAAC,WAAW,IAAI,CAAC,WAAW;QAC9C,WAAW;YACR,IAAI,CAAC,QAAQ,GAAG;YAChB,IAAI,CAAC,KAAK,GAAG;YACb,IAAI,CAAC,QAAQ,GAAG;YAChB,IAAI,CAAC,UAAU;YACf,EAAE,UAAU,OAAO,CAAC,IAAI,CAAC,WAAW;QACvC,GAAG;IACP,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,YAAY,GAAG,AAAC,CAAA,SAAS,IAAI;QAC9B,IAAI,KAAK,MAAM,IAAI,GAAG;YAClB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC;YACN,IAAI,CAAC,QAAQ,IAAI;YACjB,IAAI,CAAC,KAAK,GAAG;YACb,IAAI,CAAC,UAAU;QACnB,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,OAAO,EAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC;aAGjC,IAAI,CAAC,eAAe;IAE5B,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,UAAU,GAAG,AAAC,CAAA,SAAS,IAAI;QAC5B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,mEACA;QACN,IAAI,CAAC,QAAQ,IAAI;QACjB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ;;;KAGC,GACD,IAAI,CAAC,WAAW,GAAG,AAAC,CAAA,SAAS,IAAI;QAC7B,IAAI,KAAK,MAAM,IAAI,GAAG;YAClB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,2BACA,qCACA;YACN,IAAI,CAAC,QAAQ,IAAI;QACrB,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,UAAU;YAC5B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,sCACA,2FACA;YACN,IAAI,CAAC,QAAQ,IAAI;QACrB,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,WAAW;YAC7B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,sFACA;YACN,IAAI,CAAC,QAAQ,IAAI;QACrB,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,WAAW;YAC7B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,sCACA,iCACA,0CACA,qCAAqC,IAAI,CAAC,EAAE,GAAE;YACpD,IAAI,CAAC,QAAQ,IAAI;QACrB,OAAO;YACH,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GACrC,8BAA8B,IAAI,CAAC,EAAE,GAAE;YAC7C,IAAI,CAAC,QAAQ,IAAI;QACrB;QACA,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,UAAU;IACnB,CAAA,EAAG,IAAI,CAAC,IAAI;IAEZ,IAAI,CAAC,OAAO,GAAG;QACX,MAAM,IAAI,CAAC,UAAU;QACrB,MAAM,IAAI,CAAC,UAAU;QACrB,OAAO,IAAI,CAAC,WAAW;QACvB,UAAU,IAAI,CAAC,cAAc;QAC7B,SAAS,IAAI,CAAC,aAAa;QAC3B,QAAQ,IAAI,CAAC,YAAY;QACzB,UAAU,IAAI,CAAC,cAAc;QAC7B,OAAO,IAAI,CAAC,WAAW;QACvB,QAAQ,IAAI,CAAC,YAAY;QACzB,QAAQ,IAAI,CAAC,YAAY;QACzB,MAAM,IAAI,CAAC,UAAU;QACrB,OAAO,IAAI,CAAC,WAAW;QACvB,SAAS,IAAI,CAAC,aAAa;QAC3B,QAAQ,IAAI,CAAC,aAAa;QAC1B,YAAY,IAAI,CAAC,gBAAgB;QACjC,UAAU,IAAI,CAAC,cAAc;QAC7B,QAAQ,IAAI,CAAC,YAAY;QACzB,OAAO,IAAI,CAAC,WAAW;QACvB,WAAW,IAAI,CAAC,WAAW;QAC3B,MAAM,IAAI,CAAC,UAAU;IACzB;IAEA,IAAI,CAAC,IAAI;IACT,OAAO,IAAI;AACf","sources":["static/rTerm.js"],"sourcesContent":["/*\r\n * Just a tool for links representation\r\n * Needs a JQuery\r\n */\r\nrTerm = function (options) {\r\n    // A link to JSON with fs and cmd responses\r\n    this.file = options.file;\r\n    // An id of div where to place the terminal\r\n    this.divid = options.div || 'rterm';\r\n    // Username\r\n    this.username = options.username || 'user';\r\n    // Hostname\r\n    this.hostname = options.hostname || 'hostname';\r\n    // Starting path in fs\r\n    this.fsstart = options.fsstart || \"/home/\" + this.username;\r\n    // High of the terminal\r\n    this.height = options.height || 400;\r\n    // Maximal number of strings\r\n    this.maxStrings = options.maxStrings || 15;\r\n    // Save string to server\r\n    this.saveStrings = options.saveStrings || false;\r\n    // Logger app port\r\n    this.loggerAppPort = options.loggerAppPort || 9091;\r\n    // How much commands should be stored at history\r\n    this.maxHistoryLength = options.maxHistoryLength || 20;\r\n    // How much time might take to print one character [ms]\r\n    this.chartime = 250;\r\n    // Current dirrectory\r\n    this.cdir = this.fsstart;\r\n    this.uhsername = this.username + '@' + this.hostname;\r\n\r\n    this.data = {\r\n    \"fs\": {\r\n        \"home\": {\r\n            \"korolr\": {\r\n                \"github\": \"_link:https://github.com/korolr\",\r\n                \"blog\": \"_link:http://blog.korolr.dev\",\r\n                \"telegram\": \"_link:https://t.me/dockesrkek\",\r\n                \"steam\": \"_link:https://steamcommunity.com/id/korolr/\",\r\n                \"vndb\": \"_link:https://vndb.org/u134650\",\r\n                \"twitter\": \"_link:https://twitter.com/korolr22\",\r\n                \"mastodon\": \"_link:https://mastodon.social/@korolr\",\r\n                \"e-mail\": \"_link:mailto:alexey@ramzaev.org\"\r\n            }\r\n        },\r\n        \"etc\": {\r\n          \"motd\": \"Hi! Welcome to my personal page!\"\r\n        },\r\n        \"dev\": {\r\n          \"random\": \"_call:random\",\r\n          \"urandom\": \"_call:random\"\r\n        }\r\n    },\r\n    \"whoami\": [\r\n        \"I am Alexey, full-time js/ts developer\",\r\n        \"who is interested in things:\",\r\n        \" - frontend/backend development;\",\r\n        \" - privacy;\",\r\n        \" - psychology;\",\r\n        \" - music;\"\r\n    ],\r\n    \"uname\": \"Alexey Ramzaev\",\r\n    \"upstart\": [\"cat /etc/motd\", \"uname\", \"whoami\", \"ls\"]\r\n};\r\n    this.clicked = false;\r\n\r\n    // Load data, call upstart commands and set callbacks\r\n    this.init = function() {\r\n                var delay = this.callUpstart();\r\n\r\n                setTimeout(function() {\r\n                    $(document).keydown(this.keyCallback);\r\n                }, delay);\r\n            \r\n\r\n        $(\"#\" + this.divid).html(\r\n          '<div id=\"term\"> <span id=\"termcli\">' + this.termPrev +\r\n          '</span><span class=\"cursor\">&#9608</span></div>'\r\n        );\r\n    };\r\n\r\n    this.termPrev = '<b>' + this.uhsername + '</b>:~$  '\r\n    this.oldInput = ''\r\n    this.input = '';\r\n    this.nStrings = 0;\r\n    this.commandHistory = [];\r\n    this.commandHistoryIterator = 0;\r\n\r\n    // Call initial commands from data.upstart with typing delays\r\n    this.callUpstart = function () {\r\n        var delay = 0;\r\n        this.upcid = 0;\r\n        this.upstartInterrupted = false;\r\n\r\n        for (cid in this.data.upstart) {\r\n            if (cid > 0) {\r\n                delay += (this.data.upstart[cid - 1].length + 1) * this.chartime;\r\n            }\r\n            setTimeout(function() {\r\n                if (window.blurred && !this.upstartInterrupted) {\r\n                    this.callUpstartImmediately(this.data.upstart.slice(this.upcid));\r\n                    this.upstartInterrupted = true;\r\n                    return;\r\n                }\r\n                else if (!this.upstartInterrupted) {\r\n                    this.enterCommand(this.data.upstart[this.upcid]);\r\n                }\r\n                this.upcid++;\r\n            }, delay);\r\n        }\r\n        delay += (this.data.upstart[this.data.upstart.length - 1].length + 1) * this.chartime;\r\n        return delay;\r\n    };\r\n\r\n    // Call upstart commands without delays\r\n    this.callUpstartImmediately = function (commands) {\r\n        for (c of commands) {\r\n            this.enterCommandImmediately(c);\r\n        }\r\n    };\r\n\r\n    // Enter command with typing delays\r\n    this.enterCommand = function (command) {\r\n        this.currlid = 0;\r\n        this.interruptCommand = false;\r\n\r\n        for (lid in command) {\r\n            setTimeout(function() {\r\n                if (window.blurred && !this.interruptCommand) {\r\n                    this.enterCommandImmediately(command.slice(this.currlid));\r\n                    this.interruptCommand = true;\r\n                    return;\r\n                } else if (!this.interruptCommand) {\r\n                    this.addCallback(command[this.currlid]);\r\n                }\r\n                this.currlid++;\r\n            }, this.chartime * lid);\r\n        }\r\n        setTimeout(function() {\r\n            if (!this.interruptCommand) {\r\n                this.enterCallback();\r\n            }\r\n        }, this.chartime * command.length);\r\n    };\r\n\r\n    // Enter command without delays\r\n    this.enterCommandImmediately = function (command) {\r\n        for (l of command) {\r\n            this.addCallback(l);\r\n        }\r\n        this.enterCallback();\r\n    };\r\n\r\n    // Update #termcli with new input\r\n    this.updateTerm = function () {\r\n        $(\"#termcli\").html(this.oldInput + this.termPrev + this.input);\r\n        while ($(\"#term\").height() > this.height)\r\n        {\r\n            this.delFristString();\r\n            $(\"#termcli\").html(this.oldInput + this.termPrev + this.input);\r\n        }\r\n    };\r\n\r\n    // Delete the oldest sting\r\n    this.delFristString = function () {\r\n        var cutPos = this.oldInput.indexOf(\"<br>\");\r\n        this.oldInput = this.oldInput.slice(cutPos + 4, -4) + '<br>';\r\n        this.nStrings--;\r\n    };\r\n\r\n    this.keyCallback = (function(event) {\r\n        if (event.key.length == 1) {\r\n            this.addCallback(event.key);\r\n        } else if (event.which == 8 || event.which == 46 ||\r\n                   event.which == 110) {\r\n            this.delCallback();\r\n        } else if (event.which == 13) {\r\n            this.enterCallback();\r\n        } else if (event.which == 38) {\r\n            this.upCallback();\r\n        } else if (event.which == 40) {\r\n            this.downCallback();\r\n        }\r\n    }).bind(this);\r\n\r\n    // Add character to input\r\n    this.addCallback = (function (key) {\r\n        this.input += key;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    // Delete last character from input\r\n    this.delCallback = (function () {\r\n        this.input = this.input.slice(0, -1);\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    // Call command from input\r\n    this.enterCallback = (function () {\r\n        if (this.input == '')\r\n        {\r\n            this.emptyCallback();\r\n        }\r\n        else\r\n        {\r\n            if (this.saveStrings)\r\n            {\r\n                this.sendString(this.input);\r\n            }\r\n            this.commandHistoryIterator = 0;\r\n            this.commandHistory.unshift(this.input);\r\n            if (this.commandHistory.length > this.maxHistoryLength)\r\n            {\r\n                this.commandHistory.pop();\r\n            }\r\n            var args = this.input.split(\" \");\r\n            if (args[0] in this.funcMap)\r\n            {\r\n                this.funcMap[args[0]](args);\r\n            }\r\n            else\r\n            {\r\n                this.unknownCallback();\r\n            }\r\n        }\r\n    }).bind(this);\r\n\r\n    // Show previous command from history\r\n    this.upCallback = (function() {\r\n      if (this.commandHistoryIterator < this.commandHistory.length - 1)\r\n      {\r\n          this.commandHistoryIterator++;\r\n      }\r\n      this.input = this.commandHistory[this.commandHistoryIterator];\r\n      this.updateTerm();\r\n    }).bind(this);\r\n\r\n    // Show next command from history\r\n    this.downCallback = (function() {\r\n      if (this.commandHistoryIterator > 0)\r\n      {\r\n          this.commandHistoryIterator--;\r\n      }\r\n      this.input = this.commandHistory[this.commandHistoryIterator];\r\n      this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Call empty command\r\n     */\r\n    this.emptyCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>';\r\n        this.nStrings++;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Call unknown command\r\n     */\r\n    this.unknownCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>' + this.input + \": command not found\" + '<br>';\r\n        this.input = '';\r\n        this.nStrings += 2;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    // Send string to logger\r\n    this.sendString = (function(cli_input) {\r\n        $.ajax({\r\n                url: \"https://\" + window.location.hostname + \":\" + this.loggerAppPort + \"?\" + cli_input,\r\n                dataType: 'jsonp'\r\n            });\r\n    }).bind(this);\r\n\r\n    // Get object by path\r\n    this.getByPath = (function(dstname) {\r\n        var path = '';\r\n        if (dstname.startsWith(\"/\")) {\r\n            path = dstname;\r\n        } else if (dstname.startsWith(\"~\")) {\r\n            path = this.fsstart + \"/\" + dstname.slice(1);\r\n        } else {\r\n            path = this.cdir + \"/\" + dstname;\r\n        }\r\n        if (path.endsWith(\"/\")) {\r\n            path = path.slice(0, -1);\r\n        }\r\n        var pathArray = path.split(\"/\").slice(1);\r\n        var newPathArray = [];\r\n        for (i in pathArray) {\r\n            if (pathArray[i] == \"..\") {\r\n                if (newPathArray.length > 0) {\r\n                    newPathArray.splice(-1, 1);\r\n                } else {\r\n                    continue;\r\n                }\r\n            } else if (pathArray[i] == \".\") {\r\n                continue;\r\n            } else {\r\n                newPathArray.push(pathArray[i]);\r\n            }\r\n        }\r\n        path = \"/\" + newPathArray.join(\"/\");\r\n        var data = this.data.fs;\r\n        for (folder of newPathArray) {\r\n            data = data[folder];\r\n        }\r\n        return [data, path];\r\n    }).bind(this);\r\n\r\n    /*\r\n     * List files in the directory\r\n     * Usage: ls [OPTION]... [FILE]...\r\n     * Options:\r\n     *    -a    do not ignore entries starting with .\r\n     *    -l    use a long listing format [TODO]\r\n     */\r\n    this.lsCallback = (function(args) {\r\n        this.oldInput += this.termPrev + this.input + '<br>';\r\n        this.nStrings++;\r\n\r\n        var all = false;\r\n        var list = false;\r\n\r\n        var lsdir = this.cdir;\r\n\r\n        for (arg of args.slice(1)) {\r\n            if (!arg.startsWith(\"-\")) {\r\n                if (arg.startsWith(\"/\")) {\r\n                    lsdir = arg;\r\n                } else {\r\n                    lsdir = lsdir + \"/\" + arg;\r\n                }\r\n            } else {\r\n                if (arg == \"-a\") {\r\n                    all = true;\r\n                } else if (arg == \"-l\") {\r\n                    list = true;\r\n                }\r\n            }\r\n        }\r\n        var dirData = this.getByPath(lsdir)[0];\r\n        if (typeof dirData === \"undefined\") {\r\n            this.oldInput += \"ls: cannot access '\" + lsdir + \"': No such file or directory\" + '<br>';\r\n            this.nStrings++;\r\n        } else {\r\n            for (item in dirData) {\r\n                if (!item.startsWith('.') || all)\r\n                {\r\n                    if (typeof dirData[item] === 'string') {\r\n                        if (dirData[item].startsWith(\"_link:\")) {\r\n                            this.oldInput += '<a class=\"link\" href=\"' + dirData[item].slice(6, ) + '\" target=\"_blank\">' + item + '</a><br>';\r\n                        } else {\r\n                            this.oldInput += item + '<br>';\r\n                        }\r\n                    } else {\r\n                        this.oldInput += '<font color=\"#729FCF\">' + item + '</font><br>';\r\n                    }\r\n                    this.nStrings++;\r\n                }\r\n            }\r\n        }\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Concatenate FILE to standard output.\r\n     * Usage: cat [OPTION]... [FILE]...\r\n     */\r\n    this.catCallback = (function(args) {\r\n        var data = this.getByPath(args[1])[0];\r\n        if (data == '' || typeof data === 'undefined') {\r\n            this.oldInput += this.termPrev + this.input + '<br>' + this.input + \": No such file or directory\" + '<br>';\r\n        } else {\r\n            if (data.startsWith(\"_call:\")) {\r\n                var args = data.slice(6, ).split(\" \");\r\n                if (args[0] in this.funcMap) {\r\n                    this.funcMap[args[0]](args);\r\n                    return;\r\n                } else {\r\n                    this.oldInput += this.termPrev + this.input + '<br>' + data + '<br>';\r\n                }\r\n            } else {\r\n                this.oldInput += this.termPrev + this.input + '<br>' + data + '<br>';\r\n            }\r\n        }\r\n\r\n        this.input = '';\r\n        this.nStrings += 2;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * If DIR is a directory: change current working directory to DIR;\r\n     * if DIR is a link: open URL in a new tab.\r\n     * Usage: cd [DIR]\r\n     */\r\n    this.cdCallback = (function(args) {\r\n        var dstname = '';\r\n        if (args.length < 2 || args[1] == \" \") {\r\n            dstname = \"~\";\r\n        } else {\r\n            dstname = args[1];\r\n        }\r\n        var [data, path] = this.getByPath(dstname);\r\n        if (typeof data === 'undefined') {\r\n            this.oldInput += this.termPrev + this.input + '<br>' + this.input + \": No such file or directory\" + '<br>';\r\n            this.input = '';\r\n            this.nStrings += 2;\r\n        } else if (typeof data === 'string') {\r\n            if (data.startsWith(\"_link:\")) {\r\n                this.oldInput += this.termPrev + this.input + '<br>';\r\n                this.input = '';\r\n                this.nStrings++;\r\n                window.open(data.slice(6, ), '_blank').focus();\r\n            } else {\r\n                this.oldInput += this.termPrev + this.input + '<br>' + this.input + \": Not a directory\" + '<br>';\r\n                this.input = '';\r\n                this.nStrings += 2;\r\n            }\r\n        } else if (typeof data === 'object') {\r\n            this.cdir = path;\r\n            this.oldInput += this.termPrev + this.input + '<br>';\r\n            this.input = '';\r\n            this.nStrings++;\r\n\r\n            var pathPref = this.cdir;\r\n            if (pathPref == this.fsstart) {\r\n                pathPref = '~';\r\n            }\r\n\r\n            this.termPrev = '<b>' + this.uhsername + '</b>:' + pathPref + '$  ';\r\n        }\r\n        this.updateTerm();\r\n        return;\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Show full pathname of the current working directory\r\n     * Usage: pwd\r\n     */\r\n    this.pwdCallback = (function(args) {\r\n      this.oldInput += this.termPrev + this.input + '<br>' + this.cdir + '<br>';\r\n      this.input = '';\r\n      this.nStrings += 2;\r\n      this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Show whoami info from this.data.whoami\r\n     * Usage: whoami\r\n     */\r\n    this.whoamiCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>';\r\n        this.nStrings++;\r\n\r\n        for (item of this.data.whoami) {\r\n            this.oldInput += item + '<br>';\r\n            this.nStrings++;\r\n        }\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Show uname info from this.data.uname\r\n     * Usage: uname\r\n     */\r\n    this.unameCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>' + this.data.uname + '<br>';\r\n        this.input = '';\r\n        this.nStrings += 2;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Generate random float-pointed number in [0, 1)\r\n     * Usage: random\r\n     */\r\n    this.randomCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>' + String(Math.random()) + '<br>';\r\n        this.input = '';\r\n        this.nStrings += 2;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Show all available commands list\r\n     * Usage: help\r\n     */\r\n    this.helpCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input\r\n                      + '<br>GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)'\r\n                      + '<br>These shell commands are defined internally.  Type \"help\" to see this list.<br><br>'\r\n                      + '<br>cd [-L|[-P [-e]] [-@]] [dir]'\r\n                      + '<br>echo [-neE] [arg ...] '\r\n                      + '<br>exit [n]'\r\n                      + '<br>help [-dms] [pattern ...]'\r\n                      + '<br>time [-p] pipeline'\r\n                      + '<br>times<br>';\r\n\r\n        this.input = '';\r\n        this.nStrings += 10;\r\n\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Exit console (deactivate keys callbacks)\r\n     * Usage: exit\r\n     */\r\n    this.exitCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>';\r\n        this.nStrings++;\r\n\r\n        $(document).unbind(\"keydown\", this.keyCallback);\r\n\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Print the STRING passed as argument\r\n     * Usage: echo [STRING]\r\n     */\r\n    this.echoCallback = (function() {\r\n        var data = this.input.slice(5);\r\n        this.oldInput += this.termPrev + this.input + '<br>' + data + '<br>';\r\n\r\n        this.nStrings += 2;\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Just print hiii!\r\n     * Usage: hi\r\n     */\r\n    this.hiCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>hiii!<br>';\r\n        this.nStrings += 2;\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Just print man page request\r\n     * Usage: man\r\n     */\r\n    this.manCallback = (function() {\r\n        this.oldInput += this.termPrev + this.input + '<br>What manual page do you want?<br>';\r\n        this.nStrings += 2;\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Just type \"Oh you!\" and log out\r\n     * Usage: ohyou\r\n     */\r\n     this.ohYouCallback = (function() {\r\n         this.oldInput += this.termPrev + this.input + '<br>oh you!<br>';\r\n         this.nStrings += 2;\r\n\r\n         $(document).unbind(\"keydown\", this.keyCallback);\r\n\r\n         this.input = '';\r\n         this.updateTerm();\r\n     }).bind(this);\r\n\r\n     /*\r\n      * Clear screen and log out\r\n      * Usage: poweroff\r\n      */\r\n    this.poweroffCallback = (function() {\r\n        $(document).unbind(\"keydown\", this.keyCallback);\r\n        this.termPrev = '';\r\n        this.oldInput = '';\r\n        this.input = '';\r\n        this.nStrings = 0;\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Clear screen\r\n     * Usage: reboot\r\n     */\r\n    this.rebootCallback = (function() {\r\n        $(document).unbind(\"keydown\", this.keyCallback);\r\n        setTimeout(function() {\r\n           this.oldInput = '';\r\n           this.input = '';\r\n           this.nStrings = 0;\r\n           this.updateTerm();\r\n           $(document).keydown(this.keyCallback);\r\n        }, 1000);\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Call COMMAND as superuser\r\n     * Usage: sudo [COMMAND]\r\n     */\r\n    this.sudoCallback = (function(args) {\r\n        if (args.length == 1) {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>usage: sudo [options] [command]<br>';\r\n            this.nStrings += 2;\r\n            this.input = '';\r\n            this.updateTerm();\r\n        } else if (args[1] in this.funcMap) {\r\n            this.funcMap[args[1]](args.slice(1));\r\n        }\r\n        else {\r\n            this.unknownCallback();\r\n        }\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Imitates df\r\n     * Usage df [OPTION]\r\n     */\r\n    this.dfCallback = (function(args) {\r\n        this.oldInput += this.termPrev + this.input\r\n            + '<br>Filesystem  1K-blocks  Used    Available  Use%  Mounted on'\r\n            + '<br>/dev/sda1   514229     514229          0  100%  /boot<br>';\r\n        this.nStrings += 3;\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    /*\r\n     * Imitates apt\r\n     * Usage apt [OPTION] [PACKET]\r\n     */\r\n    this.aptCallback = (function(args) {\r\n        if (args.length == 1) {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>apt 1.2.34 (amd64)'\r\n                + '<br>Usage: apt [options] command'\r\n                + '<br>This APT has Super Cow Powers.<br>';\r\n            this.nStrings += 4;\r\n        } else if (args[1] == 'update') {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>Reading package lists... Done'\r\n                + '<br>E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)'\r\n                + '<br>E: Unable to lock directory /var/lib/apt/lists/<br>';\r\n            this.nStrings += 4;\r\n        } else if (args[1] == 'upgrade') {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)'\r\n                + '<br>E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?<br>';\r\n            this.nStrings += 3;\r\n        } else if (args[1] == 'install') {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>Reading package lists... Done'\r\n                + '<br>Building dependency tree'\r\n                + '<br>Reading state information... Done'\r\n                + '<br>E: Unable to locate package ' + args[2] +'<br>';\r\n            this.nStrings += 5;\r\n        } else {\r\n            this.oldInput += this.termPrev + this.input\r\n                + '<br>E: Invalid operation ' + args[1] +'<br>';\r\n            this.nStrings += 2;\r\n        }\r\n        this.input = '';\r\n        this.updateTerm();\r\n    }).bind(this);\r\n\r\n    this.funcMap = {\r\n        \"ls\": this.lsCallback,\r\n        \"cd\": this.cdCallback,\r\n        \"cat\": this.catCallback,\r\n        \"whoami\": this.whoamiCallback,\r\n        \"uname\": this.unameCallback,\r\n        \"help\": this.helpCallback,\r\n        \"random\": this.randomCallback,\r\n        \"pwd\": this.pwdCallback,\r\n        \"exit\": this.exitCallback,\r\n        \"echo\": this.echoCallback,\r\n        \"hi\": this.hiCallback,\r\n        \"man\": this.manCallback,\r\n        \"ohyou\": this.ohYouCallback,\r\n        \"fuck\": this.ohYouCallback,\r\n        \"poweroff\": this.poweroffCallback,\r\n        \"reboot\": this.rebootCallback,\r\n        \"sudo\": this.sudoCallback,\r\n        \"apt\": this.aptCallback,\r\n        \"apt-get\": this.aptCallback,\r\n        \"df\": this.dfCallback\r\n    };\r\n\r\n    this.init();\r\n    return this;\r\n}\r\n"],"names":[],"version":3,"file":"index.139f23cc.js.map","sourceRoot":"/__parcel_source_root/"}